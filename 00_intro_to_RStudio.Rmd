# Знакомство с RStudio

## Знакомство с RStudio

Запустите RStudio на своих ноутбуках и старайтесь находить и повторять то, что я показываю, у себя =)

R Studio выглядит у вас как-то так:

![](https://pbs.twimg.com/media/E7w3SNEX0AAZPpx.png)

Вверху слева у вас находится поле ввода вашего скрипта, который будет сохраняться. 
Под ним - консоль. Туда можно писать команды. Здесь показывается исполняемый код, который не сохраняется. 
Терминал - доступ к терминалу (командной строке) из R Studio (нам сейчас это точно не понадобится=))

Ну что, давайте пробовать?

``` {r}
a <- "это код, он исполняется"
a
```

Введите этот скрипт и нажмите `Ctrl+Enter` или кнопку `Run`. Как видите, он появился в консоли. 
Теперь спуститесь в консоль и в строке ввода нажмите стрелку вверх. Как видите, этот код снова появился. Стрелками вверх-вниз можно вызывать недавние команды. 


``` {r}
#это комментарий, он не исполняется
```

А теперь введите этот скрипт и снова нажмите `Ctrl+Enter`. В консоли он появился, но строки вывода нет.Это значит, что он не был исполнен. 
Для оставления комментариев (неисполняемой части кода) ставьте в начале строки знак хэштэга `#`. Также можно закомментировать/раскомментировать часть кода, выделив её и нажав `Ctrl+Shift+C` для `Win` или `Command+Shift+C` для `macOS`.

## Горячие клавиши

`Ctrl+Enter`, что мы нажимали, является одной из горячих клавиш. Она позволяет запустить не весь код (как, например, делает кнопка `Run`), а только часть его: ту, что выделена или ту строку, на которой стоит курсор. Потренируемся. У вас в файле пока есть три строки:

``` {r}
a <- "это код, он исполняется"
a
#это комментарий, он не исполняется
```

1. Выделите последние две строки и нажмите `Ctrl+Enter`. У вас в выводе должна появиться фраза: `это код, он исполняется`, а в консоли - последние две строки.
2. А теперь поставьте курсор на последнюю строку. Вывода у вас не должно появиться, а в консоли появится последняя строка.
Вывод в консоли пишется черным цветом, исполняемые команды - синим.

Остальные горячие клавиши можно посмотреть во вкладке `Help > Keyboard Shortcuts Help`.

``` {r}
a<-"это код, он исполняется"

a
```

В этом коде мы присвоили переменной `a` значение и вывели результат на экран. 
Оператор присваивания в R это `<-` (допускается использование знака равно `=`). 
В R можно использовать и обратный оператор присваивания `->`, но это считается плохим тоном, так как плохо считывается визуально.
С обратным оператором этот же код выглядел бы так:

``` {r}
"это код, он исполняется"->a

a
```

## Гайды по стилю R

Переменные должны обязательно начинаться с буквы (чтобы не было проблем, используйте латинские буквы) и не содержать в себе специальных символов. Есть [различные](http://adv-r.had.co.nz/Style.html) [гайды](https://google.github.io/styleguide/Rguide.html) по неймингу переменных, функций и объектов в R. Можете на досуге ознакомиться.

## Рабочая папка

Мы работаем с файлами в определенной рабочей папке (директории). R видит то, что в этой папке, и к файлам в ней можно обращаться по имени без указания адреса. Понять, в какой папке мы находимся (и, соотсветственно, путь до данного файла, в котором мы пишем), можно с помощью команды:

``` {r, eval=FALSE}
getwd()
```

```{r, echo=FALSE}
"C:/Users/serve/Desktop/"
```

Если мы хотим перейти в другую папку, мы можем сделать это во вкладке `Sessions > Set working directory`. Ну или с помощью кода =) Здесь вы можете прописать адрес, который вам нужен:

``` {r, eval = FALSE}
setwd("C:/Users/serve/Desktop/andan2021/")
```

## Открываем файл

Итак! Подготовка закончена. Давайте откроем наш первый документ.
Лучше всего вначале открыть файл в текстовом редакторе и понять, какие там разделители. Рекомендуем Notepad++
Пишем команду. Если выделить мышкой слова `read.table` и нажать `F1`, то справа внизу во вкладке Help появится окно помощи со справкой по этой команде. Также справку можно вызвать с помощью команд: `?read.table` или  `help(read.table)`. В некоторых случаях нужно заключать искомое слово в кавычки. Экспериментируйте =)

``` {r, eval=FALSE}
data<-read.table(file = "about_us_eng.csv")
```

``` {r, echo=FALSE, error = TRUE}
data<-read.table(file = "data/about_us_eng.csv")
```


 Опа, ошибка. Ошибку всегда можно погуглить или поискать решение на stackoverflow, но в данном случае расширение файла дает нам подсказку: проблема в разделителях. TSV - tab separated values, CSV - comma separated values. У нас CSV-файл.
Нам надо правильно выставить сепаратор: `,`. В tsv формате разделителем будет табуляция `\t`. `\` - это знак экранирования. О нем я расскажу попозже.  
 
``` {r, eval = FALSE}
data<-read.table(file = "about_us_eng.csv", sep=",") 
```

``` {r, echo = FALSE}
data<-read.table(file = "data/about_us_eng.csv", sep=",") 
```

Посмотрите в окошко справа вверху: видите, появилось: `data 36 obs. of 15 variables`? Кликнем туда и посмотрим, что у нас загрузилось. 
Это табличка с нашими данными, но вроде всё ещё не совсем то, что надо. Давайте укажем, что первая строка является именами переменных.

``` {r, eval = FALSE}
data <- read.table("about_us_eng.csv", sep=",", header=TRUE) 
```

``` {r, echo = FALSE}
data <- read.table("data/about_us_eng.csv", sep=",", header=TRUE) 
```


Тут можно окинуть широким взглядом всю таблицу. Очень удобно. Посмотрите, кстати, что появилось в консоли: `View(data)`. Этой командой можно пользоваться для визуального просмотра данных. Удобно, когда у вас много табличек. 

В команде выше вы видите основы синтаксиса R. 
--- `data` ---- объект, в который запишется то, что после
--- `read.table()` ---- функция с набором параметров
--- `file`, `sep`, `header` ---- параметры, перечисляемые через запятую
--- `header=TRUE` ---- присвоение параметру header значения `TRUE`
--- `TRUE` без кавычек означает `TRUE` ---- значение типа logic, булева переменная (Boolean)
--- `TRUE` в кавычках (`"TRUE"`) было бы просто словом TRUE, значением типа character

Давайте обратим наш взор на окошко вверху справа. Это окно глобального окружения. Все таблицы, переменные, функции и пр. RStudio запоминает и перечисляет там. В глобальном окружении также присутствуют некоторые уже заданные и написанные данные, переменные и функции. Например, число пи:

``` {r}
pi
```

Или вектор алфавита

```{r}
letters
```

Перейдем к знакомству непосредственно с R.

